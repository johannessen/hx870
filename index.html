<!DOCTYPE html>
<html lang=en>
<meta charset=UTF-8>
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Standard Horizon HX870</title>
<style>
body { line-height: 130%; margin: 2em; }
#github { position: absolute; top: 0; right: 0; border: none; }
#githubspace { margin-right: 70px; }
code { color: #800; }
kbd { background-color: #666; color: white; font-weight: bold; white-space: nowrap; padding: .2em; margin: 0 .2em; }
kbd.red { background-color: #f56; color: black; }
table { border-collapse: collapse; }
table tr td, table tr th, span.example { border: 1px solid #aaa; }
table.eeprom tr:not(.rowspan) td:first-child { font-family: monospace; }
table tr th {background-color: #fdd;}
table.eeprom code {white-space: pre;}
hr, h2 { margin-top: 2em; }
h1+h2 { margin-top: 0; }
pre { font-size: .8em; line-height: 120%; }
td, span.example { padding: .2ex .2em; }
p.x { background-color: #ffd; padding: .4ex .4em; border: 1px solid #cc6; }
tr.x td, .x.example { background-color: #ffd; } /* unknown */
tr.c td, .c.example { background-color: #dfd; color: #898; } /* probable constant value or padding */
</style>

<h1>Standard Horizon HX870 / HX870E</h1>

<p id=githubspace>The <a href="http://www.standardhorizon.com/indexVS.cfm?cmd=DisplayProducts&amp;DivisionID=3&amp;ProdCatID=85&amp;ProdID=1791">HX870</a> is the successor to the Standard Horizon HX851 marine VHF radio. This page was inspired by a <a href=http://www.paul.sladen.org/toys/vertex/hx851e.html>collection of information about the HX851</a> by Paul Sladen. I originally created this page for my own use, then decided it might also be of use to others.

<p>I do not work for Standard Horizon / Yaesu, nor do I have first-hand “inside” knowledge about any of their products. The information on this page was gathered by playing around some with HX870 and HX870E radios and the YCE15 software that goes with it. Several radio users contributed information to this page; Norm Perron and <a href="https://github.com/cr">Christiane Rütten</a> were particularly helpful.

<p><strong>Disclaimer:</strong> Modifying the memory image directly using a hex editor is likely not a supported function of the device or its accompanying software. As such, it might <strong>void your warranty</strong> or <strong>brick the radio</strong> or even put it into a state where it transmits or receives on frequencies forbidden by international <a href=https://www.itu.int/pub/R-REG-RR/e>Radio Regulations</a>, local regulations (<a href=https://www.fcc.gov/wireless/bureau-divisions/mobility-division/maritime-mobile-service>FCC</a> / <a href=https://www.bundesnetzagentur.de/DE/Sachgebiete/Telekommunikation/Unternehmen_Institutionen/Frequenzen/SpezielleAnwendungen/Seefunk/Seefunk-node.html>BNetzA</a> / …) or local law. Using the radio in such a state might disrupt vital safety-of-life services. Many jurisdictions impose a <strong>fine or criminal penalty</strong> on it. You should not mess around with any of this stuff unless you know what you’re doing! And, to finally state the obvious: Whatever <em>you</em> do, <em>I</em> cannot be held responsible for it.

<h2 id=protocol>Serial protocol</h2>

<p>Please refer to the documentation of the <a href="https://github.com/cr/hx870">HX870 Python tools</a>.

<h2 id=memory>Memory image</h2>

<p>32kB EEPROM, stored by Standard Horizon’s YCE15 software as a *.dat file

<p>If you own <a href="https://www.sweetscape.com/010editor/">010 Editor</a>, you may find the <a href="https://github.com/cr/hx870/blob/master/hx870dat.bt">binary template</a> included with the HX870 Python tools most useful. The <a href="https://github.com/cr/hx870">Python tools</a> also allow reading and writing the radio’s EEPROM on operating systems that can’t run YCE15, such as macOS.

<p>The significance of memory locations marked with a <span class="x example">yellow background</span> has not been discovered.
<br>Memory locations marked with a <span class="c example">green background</span> appear to have constant values (padding etc.) and can <em>probably</em> safely be ignored.

<p>0xff is used as a generic unused/disabled/padding value for many fields.

<p>Characters are coded as fixed-length ASCII strings (permissible chars include: <code>A-Za-z0-9 &amp;'*,-.:/[]</code>) with 0xff padding, but apparently many strings cannot be used to their full length due to UI limitations.

<p>DSC addresses presently consist of the nine-digit MMSI and a tenth digit, reserved for future use. They are coded with the full ten digits. The last digit is always zero as per <a href=https://www.itu.int/rec/R-REC-M.1080>Rec. ITU-R M.1080</a>.

<table class=eeprom>
<tr>        <th>Address       <th>Data <th>Format
<tr class=c><td>0x0000–0x0001 <td>magic number <td>0x0367 = 871
<tr class=x><td>0x0002–0x0003 <td> <td>0x0100
<tr>        <td>0x0004        <td>multi watch / scan <td>0x00=off, 0x01=multi, 0x02=scan
<tr class=x><td>0x0005        <td> <td>0x00
<tr class=x><td>0x0006        <td> <td>[values seen: 0x00, 0x01, 0x02]
<tr class=x><td>0x0007        <td> <td>0x00
<tr>        <td>0x0008        <td>selected channel group <td>
<tr class=x><td>0x0009–0x000a <td> <td>0x0e02
<tr class=x><td>0x000b        <td> <td>[values seen: 0x00, 0x01, 0x02]
<tr>        <td>0x000c        <td>volume setting <td>numeric (0=min, 15=max)
<tr>        <td>0x000d        <td>squelch setting <td>numeric (0=open, 15=max)
<tr class=x><td>0x000e        <td>distress alert status? <td>usually 0x00
<tr class=x><td>0x000f        <td> <td>0x00
<tr>        <td>0x0010–0x0011 <td>currently selected channel <td><a href=#channel-index>Channel Index</a>
<tr>        <td>0x0012–0x0013 <td>channel used before <kbd class=red>16/S</kbd> was pressed <td><a href=#channel-index>Channel Index</a>
<tr class=x><td>0x0014        <td> <td>0xf0
<tr class=x><td>0x0015        <td> <td>[values seen: 0x01, 0x04]
<tr class=c><td>0x0016–0x001e <td> <td>0xff…
<tr class=x><td>0x001f        <td> <td>[values seen: 0x00, 0xff]
<tr>        <td>0x0020–0x006f <td>device setup <td><a href=#setup1>Setup 1</a>
<tr>        <td>0x0070–0x00af <td>channel group names <td>4 * <a href=#channel-group-def>Channel Group Definition</a>
<tr>        <td>0x00b0–0x00ff <td>DSC setup <td><a href=#setup2>Setup 2</a>
<tr class=c><td>0x0100–0x0107 <td>flash ID <td><code>AM057N2</code>
<tr class=c><td>0x0108–0x010e <td> <td>0xff…
<tr>        <td>0x010f        <td>region selection (group 3 mode) <td><a href=#regions>Region Selection</a>
<tr class=x><td>0x0110–0x011f <td>BCD time stamp of something plus some other data <td>
<tr>        <td>0x0120–0x012b <td>channel enabled group 1 <td>bitmask
<tr class=c><td>0x012c–0x012f <td> <td>0x00000000
<tr class=c><td>0x0130–0x013f <td> <td>[values seen: 0x00…, 0xff…]
<tr>        <td>0x0140–0x014b <td>channel enabled group 2 <td>bitmask
<tr class=c><td>0x014c–0x014f <td> <td>0x00000000
<tr class=c><td>0x0150–0x015f <td> <td>[values seen: 0x00…, 0xff…]
<tr>        <td>0x0160–0x016b <td>channel enabled group 3 <td>bitmask
<tr class=c><td>0x016c–0x016f <td> <td>0x00000000
<tr class=c><td>0x0170–0x017f <td> <td>[values seen: 0x00…, 0xff…]
<tr>        <td>0x0180–0x0181 <td>channel enabled group WX <td>bitmask
<tr>        <td>0x0182–0x0183 <td>channel enabled group RG <td>bitmask
<tr>        <td>0x0184–0x0186 <td>channel enabled group EXP <td>bitmask
<tr class=c><td>0x0187–0x0188 <td> <td>[values seen: 0x0000, 0xffff]
<tr class=c><td>0x0189–0x018f <td> <td>0xff…
<tr>        <td>0x0190–0x019b <td>scan mem group 1 <td>bitmask
<tr class=c><td>0x019c–0x01a8 <td> <td>0x00…
<tr class=c><td>0x01a9–0x01ad <td> <td>[values seen: 0x00…, 0xff…]
<tr class=c><td>0x01ae–0x01af <td> <td>0xffff
<tr>        <td>0x01b0–0x01bb <td>scan mem group 2 <td>bitmask
<tr class=c><td>0x01bc–0x01c8 <td> <td>0x00…
<tr class=c><td>0x01c9–0x01cd <td> <td>[values seen: 0x00…, 0xff…]
<tr class=c><td>0x01ce–0x01cf <td> <td>0xffff
<tr>        <td>0x01d0–0x01db <td>scan mem group 3 <td>bitmask
<tr class=c><td>0x01dc–0x01e8 <td> <td>0x00…
<tr class=c><td>0x01e9–0x01ed <td> <td>[values seen: 0x00…, 0xff…]
<tr class=c><td>0x01ee–0x01ef <td> <td>0xffff
<tr>        <td>0x01f0–0x01f1 <td>scan mem group WX <td>bitmask
<tr>        <td>0x01f2–0x01f3 <td>scan mem group RG <td>bitmask
<tr>        <td>0x01f4–0x01f6 <td>scan mem group EXP <td>bitmask
<tr class=c><td>0x01f7–0x01f8 <td> <td>0x0000
<tr class=c><td>0x01f9–0x01fb <td> <td>[values seen: 0x00…, 0xff…]
<tr class=c><td>0x01fc–0x01ff <td> <td>0xff…
<tr>        <td>0x0200–0x0213 <td>preset list group 1 <td>10 * <a href=#channel-index>Channel Index</a>
<tr class=x><td>0x0214        <td> <td>[values seen: 0x04, 0x07, 0x09, 0xff]
<tr class=c><td>0x0215–0x021f <td> <td>0xff…
<tr>        <td>0x0220–0x023f <td>preset list group 2 <td>10 * <a href=#channel-index>Channel Index</a>
<tr class=x><td>0x0234        <td> <td>0xff
<tr class=c><td>0x0235–0x023f <td> <td>0xff…
<tr>        <td>0x0240–0x025f <td>preset list group 3 <td>10 * <a href=#channel-index>Channel Index</a>
<tr class=x><td>0x0254        <td> <td>0xff
<tr class=c><td>0x0255–0x025f <td> <td>0xff…
<tr class=c><td>0x0260–0x027f <td> <td>0xff…
<tr class=x><td>0x0280–0x028f <td> <td>values seen: <br>0x 8f4e 2daf d24b 6946 708a b496 1980 ffff <br>0x 9555 3174 d84a ab3b 6e8a 53cf 197e ffff
<tr class=c><td>0x0290–0x029f <td> <td>0xff…
<tr class=x><td>0x02a0–0x02af <td> <td>values seen: <br>0x 1a1a 1a1a 1005 0504 0301 1a05 ffff ffff <br>0x 0a0f 1419 1f02 0202 0202 0f02 00ff ffff
<tr class=c><td>0x02b0–0x02bf <td> <td>0x0001020305080c141e2b40597090b0ff
<tr class=c><td>0x02c0–0x02cf <td> <td>0x00102030405060708090a0b0c0d0e0f0
<tr class=x><td>0x02d0–0x02db <td>activation per channel group for RG <td>only 3 least significant bits, one RG channel per byte
<tr class=c><td>0x02dc–0x02df <td> <td>0xff…
<tr class=x><td>0x02e0–0x02f3 <td>activation per channel group for EXP <td>only 3 least significant bits, one EXP channel per byte
<tr class=c><td>0x02f4–0x02ff <td> <td>0xff…
<tr>        <td>0x0300–0x036f <td>DSC individual call history <td>7 * <a href=#call-history-entry>Call History Entry</a> (padded to 16 bytes)
<tr class=c><td>0x0370–0x037f <td> <td>0xff…
<tr>        <td>0x0380–0x03ef <td>DSC group call history <td>7 * <a href=#call-history-entry>Call History Entry</a> (padded to 16 bytes)
<tr class=c><td>0x03f0–0x03ff <td> <td>0xff…
<tr>        <td>0x0400–0x046f <td>DSC position request call history <td>7 * <a href=#call-history-entry>Call History Entry</a> (padded to 16 bytes)
<tr class=c><td>0x0470–0x047f <td> <td>0xff…
<tr>        <td>0x0480–0x04ef <td>DSC position report call history <td>7 * <a href=#call-history-entry>Call History Entry</a> (padded to 16 bytes)
<tr class=c><td>0x04f0–0x04ff <td> <td>0xff…
<tr class=x><td>0x0500–0x057f <td>DSC polling/test call history <td><a href=#call-history-entry>Call History Entry</a> ?
<tr class=x><td>0x0580–0x05a4 <td>auto polling <td>7 DSC addresses (0xff inserted every 3 addr.) ?
<tr class=c><td>0x05a5–0x05df <td> <td>0xff…
<tr class=x><td>0x05e0–0x05e2 <td> <td>[values seen: 0x050402, 0x01ffff, 0xffffff]
<tr class=c><td>0x05e3–0x05ff <td> <td>0xff…
<tr>        <td>0x0600–0x077f <td>channel flags group 1 <td>96 * <a href=#channel-flags>Marine Channel Flags</a>
<tr>        <td>0x0780–0x08ff <td>channel flags group 2 <td>96 * <a href=#channel-flags>Marine Channel Flags</a>
<tr>        <td>0x0900–0x0a7f <td>channel flags group 3 <td>96 * <a href=#channel-flags>Marine Channel Flags</a>
<tr class=c><td>0x0a80–0x0a9f <td> <td>0xff…
<tr>        <td>0x0aa0–0x0adf <td>regional channels <td>12 * <a href=#channel-definition>Private Channel Definition</a>
<tr>        <td>0x0b00–0x0b57 <td>expansion channels <td>20 * <a href=#channel-definition>Private Channel Definition</a>
<tr>        <td>0x0ba0–0x119f <td>channel names group 1 <td>96 * 16 * char
<tr class=c><td>0x11a0–0x179f <td> <td>96 * 16 * 0xff
<tr>        <td>0x17a0–0x1d9f <td>channel names group 2 <td>96 * 16 * char
<tr class=c><td>0x1da0–0x239f <td> <td>96 * 16 * 0xff
<tr>        <td>0x23a0–0x299f <td>channel names group 3 <td>96 * 16 * char
<tr class=c><td>0x29a0–0x2f9f <td> <td>96 * 16 * 0xff
<tr>        <td>0x2fa0–0x305f <td>channel names group RG <td>12 * 16 * char
<tr class=c><td>0x3060–0x311f <td> <td>12 * 16 * 0xff
<tr>        <td>0x3120–0x325f <td>channel names group EXP <td>20 * 16 * char
<tr class=c><td>0x3260–0x311f <td> <td>20 * 16 * 0xff
<tr class=c><td>0x33a0–0x33bf <td> <td>0xff…
<tr>        <td>0x33c0–0x345f <td>channel names group WX <td>10 * 16 * char
<tr class=c><td>0x3460–0x34ff <td> <td>10 * 16 * 0xff
<tr>        <td>0x3500–0x3714 <td>DSC individual directory: addresses <td>100 * 10 nibbles BCD (last nibble zero) <br>after every third address, a single 0xff byte is inserted
<tr class=c><td>0x3715–0x372f <td> <td>0xff…
<tr>        <td>0x3730–0x3d6f <td>DSC individual directory: names <td>100 * 16 * char
<tr class=c><td>0x3d70–0x3dff <td> <td>0xff…
<tr>        <td>0x3e00–0x3e6a <td>DSC group directory: addresses <td>20 * 10 nibbles BCD (last nibble zero) <br>after every third address, a single 0xff byte is inserted
<tr class=c><td>0x3e6b–0x3e7f <td> <td>0xff…
<tr>        <td>0x3e80–0x3fbf <td>DSC group directory: names <td>20 * 16 * char
<tr class=c><td>0x3fc0–0x3fff <td> <td>0xff…
<tr>        <td>0x4000–0x427f <td>group monitor setup <td>10 * <a href=#gm-def>Group Monitor Definition</a>
<tr class=c><td>0x4280–0x42ff <td> <td>0xff…
<tr class=x><td>0x4300–0x5bff <td>waypoints <td>200 wpts, each with 16 byte BCD pos. + 16 byte name
<tr>        <td>0x5c00–0x5e7f <td>routes <td>20 routes, each with 16 byte name + 15 wpts + 0xff
<tr class=c><td>0x5e80–0x5eff <td> <td>0xff…
<tr class=x><td>0x5f00–0x60af <td>DSC log / history (transmitted calls) <td>?
<tr class=x><td>0x60b0–0x64ff <td> <td>
<tr class=x><td>0x6500–0x74ff <td>DSC log / history (received “other” calls) <td>?
<!-- call format: basically first a BCD time stamp, followed by the DSC address and some flags and stuff, ending with the BCD position if available; the most significant bit of the entry's first byte is set if the message is unread -->
<tr class=x><td>0x7500–0x7ffd <td> <td>0xff…
<tr class=c><td>0x7ffe–0x7fff <td>magic number <td>0x0367 = 871
</table>

<p>There is a bug in the YCE15 software versions 2.0.0.4 and 2.0.1.0 that can cause corruption of the DSC individual directory (likely also other directories) when opening a memory image file containing directory entries that are not alphabetically sorted. However, the bug is only triggered when the “Individual Directory” item is chosen in YCE15. If instead the memory image is directly programmed into the device without first viewing the directory in YCE15, the result is just fine.

<p class=x>Apparently the firmware “knows” whether the radio model is a HX870 or a HX870E independent of the accessible memory content. Non-E models don’t get the region selection menu. However, it would seem logical for this to be defined in software rather than hardware. How does that work? Does perhaps the Windows firmware update software silently modify the firmware based on whether or not an E model is detected before the update (possibly using byte 0x010f)?

<p class=x>An issue seems to sometimes prevent reading values of certain fields from the radio’s memory. This affects memory locations 0x0006, 0x000b–0x000d, 0x0110–0x011f amongst many others. Instead of the true values of those fields, default or padding values appear to be returned. However, locations 0x0010–0x013 and 0x0060 are not affected. While it is not yet clear whether this is an issue with the firmware or YCE15, reading the memory using pyhx870 appears to often yield the true values.

<p class=x>The “activation per channel group” for RG and EXP doesn’t seem to work as I think it should. This ought to be solvable, as the region modes UK and SW contain RG channels that use these activation bits.

<p class=x>There is apparently some sort of bug affecting the call time and position time in the call log; the hours of the two times don’t match, but the minutes do. YCE15 says both times are supposed to be UTC. Is this an issue with calculating time zones or just a wrong label in YCE15?

<h3 id=channel-index>Channel Index</h3>
<table class=eeprom>
<tr>        <th>Offset    <th>Data <th>Format
<tr class=x><td>0x0     <td>status <td>0x00=in use, 0xff=not in use
<tr>        <td>0x1     <td>channel <td>numeric 1-based index
</table>

<p>The “channel index” is used to specify individual channels in the memory image. This is simply the position of the respective channel in the channel list of the respective channel group, starting with 1. For example, the “USA” channel group begins with channel 01A, so the number 1 would refer to that channel; number 2 would refer to the next-higher channel, which in “USA” mode is channel 03A; and so on.

<p>Note that none of the default channel lists are fully consecutive. Many have extra channels inserted (for example, Canadian channel 25B is inserted between channels 25 and 26), and for historical reasons, the international channel plan has a big gap before channel 60. Therefore the only way to determine or to resolve channel references is to get a list of all your channels (for example in YCE15 or in the radio itself) and count down from the top, starting with 1 for your first channel. An easy way to do this might be to list all your channels in a spreadsheet application.

<p>“RG” regional and “EXP” expansion channels are appended at the end of the channel list in that order (perhaps “WX” weather channels, too – not sure about these).

<!-- TODO: ready-made table of channel indices for the 8 default groups -->

<p class=x>I’m not 100 % sure the count matches my data here. The issue appears to be in the upper channels. Does channel 70 maybe not count in the index? How about other "transmission forbidden" channels? Or am I simply counting wrong after all?

<p id=preset>The status byte can be used in the preset lists to signal whether that preset is enabled. For other uses of the channel index, it is usually zero.

<p class=x>Sometimes the status byte duplicates the channel byte's value rather than being zero. Different values have also been observed. The significance of this is unclear.
<!-- In some cases, the radio itself codes e. g. EXP channel #3 as 0x1003. It has not been confirmed whether this is in fact the “correct” code, but it does seem to clash with some of the other values that have been observed here. For example, one brand-new HX870E had the values doubled for priority/sub channels in the inactive channel groups (e. g. 0x1010 for channel 16), but status zero in the active channel group (0x0010). The radio does support more than 15 EXP channels, so 0x1010 would then be ambiguous, which doesn't make sense. FWIW, the radio seems to always accept channel indices if coded as explained earlier in this section. -->

<p>There is some sort of bug in the YCE15 software version 2.0.0.4 that can result in unusable Presets. For example, when setting an “EXP” channel as a preset (possibly also when simply setting a preset to “none”), byte values in the range of 0x81–0xff are set. This results in channels with unusual numbers like “00” or “43” in the radio that give off funny noises when they’re selected.

<h3 id=setup1>Setup 1</h3>
<table class=eeprom>
<tr>        <th>Address       <th>Data <th>Format
<tr>        <td>0x0020–0x0025 <td>priority channels (per group) <td>3 * <a href=#channel-index>Channel Index</a>
<tr>        <td>0x0026–0x002b <td>sub channels (per group) <td>3 * <a href=#channel-index>Channel Index</a>
<tr class=x><td>0x002c–0x002f <td> <td>0xffffff02
<tr>        <td>0x0030        <td>display backlight dimmer <td>numeric (0=off, 5=max)
<tr>        <td>0x0031        <td>display contrast <td>numeric (0=min, 30=max)
<tr>        <td>0x0032        <td>key beep volume <td>numeric (0=off, 5=max)
<tr class=x><td>0x0033        <td> <td>0x01
<tr>        <td>0x0034        <td>multi watch <td>0x00=dual, 0x01=triple
<tr class=x><td>0x0035        <td> <td>0x01
<tr>        <td>0x0036        <td>scan type <td>0x00=memory, 0x01=priority
<tr>        <td>0x0037        <td>scan resume time <td>numeric (1=min, 5=max)
<tr>        <td>0x0038        <td>weather alert <td>0x00=off, 0x01=on
<tr class=x><td>0x0039        <td> <td>0x00
<tr>        <td>0x003a        <td>emergency LED <td>0x00=continuous, 0x01=SOS, 0x02=Blink1, 0x03=Blink2, 0x04=Blink3
<tr>        <td>0x003b        <td>water hazard LED <td>0x00=off, 0x01=on, 0x02=power-on
<tr>        <td>0x003c        <td>lamp <td>0x00=off, 0x01=3s, 0x02=5s, 0x03=10s, 0x04=continuous, 0x05=20s, 0x06=30s
<tr>        <td>0x003d        <td>AF pitch CONT <td>0x00=normal, 0x01=high-low-cut, 0x02=high-low-boost, 0x03=low-boost, 0x04=high-boost
<tr>        <td>0x003e        <td>battery save <td>0x00=off, 0x01=50%, 0x02=70%, 0x03=80%, 0x04=90%
<tr class=c><td>0x003f        <td> <td>0xff
<tr>        <td>0x0040        <td>VOX <td>0x00=off, 0x01=on
<tr>        <td>0x0041        <td>VOX level <td>numeric (0=min, 4=max)
<tr>        <td>0x0042        <td>VOX delay time <td>0x00=0.5s, 0x01=1.0s, 0x02=1.5s, 0x03=2.0s, 0x04=3.0s
<tr>        <td>0x0043        <td>noise cancel Rx <td>0x00=off, 0x01=on
<tr>        <td>0x0044        <td>noise cancel Rx level <td>0x00=1, 0x01=2, 0x02=3, 0x03=4
<tr>        <td>0x0045        <td>noise cancel Tx <td>0x00=off, 0x01=on
<tr class=x><td>0x0046-0x049  <td> <td>0x00ffffff
<tr>        <td>0x004a        <td>nav display range <td>0x00=auto, 0x01=2M, 0x02=5M, 0x03=10M, 0x04=25M
<tr class=x><td>0x004b        <td> <td>[values seen: 0x01, 0xff]
<tr>        <td>0x004c        <td>nav arrival range <td>0x00=0.05M, 0x01=0.1M, 0x02=0.2M, 0x03=0.5M, 0x04=1.0M
<tr>        <td>0x004d        <td>nav routing operation <td>0x00=auto, 0x01=manual
<tr class=c><td>0x004e-0x04f  <td> <td>0xffff
<tr>        <td>0x0050        <td>GPS enabled <td>0x00=no, 0x01=yes (when radio is switched on), 0x02=always (even when radio is switched off)
<tr>        <td>0x0051        <td>GPS power save <td>0x00=off, 0x01=auto, 0x02=50%, 0x03=75%, 0x04=90%
<tr>        <td>0x0052        <td>GPS location format <td>0x00=ddd°mm′ss″, 0x01=ddd°mm.mm′, 0x02=ddd°mm.mmmm′
<tr>        <td>0x0053        <td>GPS time setup <td>bitmask; see below
<tr>        <td>0x0054        <td>speed units <td>0x00=knots, 0x01=mph, 0x02=km/h
<tr>        <td>0x0055        <td>distance units <td>0x00=nm, 0x01=sm, 0x02=km
<tr>        <td>0x0056        <td>altitude units <td>0x00=feet, 0x01=metres
<tr>        <td>0x0057        <td>GPS pinning <td>0x00=no, 0x01=yes
<tr>        <td>0x0058        <td><abbr title="satellite-based augmentation system, e. g. WAAS / EGNOS">SBAS</abbr> enabled <td>0x00=no, 0x01=yes
<tr>        <td>0x0059        <td>map orientation <td>0x00=north-up, 0x01=course-up
<tr>        <td>0x005a        <td>GPS output sentences <td>bitmask; see below
<tr>        <td>0x005b        <td>GPS logger interval <td>0x00=5s, 0x01=15s, 0x02=30s, 0x03=1min, 0x04=5min
<tr class=x><td>0x005c        <td> <td>0x00
<tr class=c><td>0x005d-0x05f  <td> <td>0xffffff
<tr>        <td>0x0060        <td>selected soft key page <td>numeric
<tr>        <td>0x0061        <td>soft key timer <td>0x01=3s, 0x02=5s, 0x03=7s, 0x04=10s, 0x05=15s
<tr>        <td>0x0062–0x0064 <td>soft key page 0 <td>3 soft keys; see below
<tr>        <td>0x0065–0x0067 <td>soft key page 1 <td>3 soft keys; see below
<tr>        <td>0x0068–0x006a <td>soft key page 2 <td>3 soft keys; see below
<tr>        <td>0x006b–0x006d <td>soft key page 3 <td>3 soft keys; see below
<tr class=c><td>0x006e–0x006f <td> <td>0xffff
</table>

<p><strong>GPS Time Setup</strong>
<pre>
0x80 = 1xxxxxxx = local time (0 = UTC)
0x40 = x1xxxxxx = 24 hour clock (0 = AM/PM)
0x20 = xx1xxxxx = time offset has positive sign (0 = negative sign)
0x08 = xxx11111 = time offset in half hours

Examples:
0x60 = 01100000 = UTC
0xe2 = 11100010 = British Summer Time (UTC +01:00)
0xe4 = 11100100 = Central European Summer Time (UTC +02:00)
0x9e = 10001110 = Pacific Daylight Time AM/PM (UTC -07:00)
</pre>

<p><strong>GPS Output Sentences</strong>
<pre>
0xc0 = 11xxxxxx - unused
0x20 = xx1xxxxx = DSC/DSE
0x10 = xxx1xxxx = RMC
0x08 = xxxx1xxx = GSV
0x04 = xxxxx1xx = GSA
0x02 = xxxxxx1x = GGA
0x01 = xxxxxxx1 = GLL
</pre>

<table>
<tr><th>Code <th>Soft Key
<tr><td>0x00 <td>none
<tr><td>0x01 <td>H/M/L transmit power
<tr><td>0x02 <td>WX / CH
<tr><td>0x03 <td>SCAN
<tr><td>0x04 <td>Dual Watch
<tr><td>0x05 <td>WPT MARK
<tr><td>0x06 <td>COMPASS
<tr><td>0x07 <td>Waypoint
<tr><td>0x08 <td>MOB
<tr><td>0x09 <td>SCAN Memory
<tr><td>0x0a <td>PRESET
<tr><td>0x0b <td>STROBE
<tr><td>0x0c <td>CH NAME
<tr><td>0x0d <td>LOGGER
<tr><td>0x0e <td>Noise Cancel
</table>

<h3 id=setup2>Setup 2</h3>
<table class=eeprom>
<tr>        <th>Address       <th>Data <th>Format
<tr>        <td>0x00b0–0x00b4 <td>own DSC address (MMSI) <td>10 nibbles BCD (last nibble zero)
<tr class=x><td>0x00b5        <td>own DSC address programmed <td>0x00=no, 0x01=yes, 0x02=?
<tr>        <td>0x00b6–0x00ba <td>own ATIS code <td>10 nibbles BCD (or 0xff… if not programmed)
<tr>        <td>0x00bb        <td>own ATIS code programmed <td>0x00=no, 0x01=yes
<tr class=x><td>0x00bc        <td> <td>0x01
<tr>        <td>0x00bd        <td>DSC Individual call categories <td>0x1f (bitmask; see below)
<tr>        <td>0x00be        <td>DSC All Ships call categories <td>0x6f (bitmask; see below)
<tr>        <td>0x00bf        <td>DSC Group call categories <td>0x1f (bitmask; see below)
<tr>        <td>0x00c0        <td>DSC Position Request call categories <td>0x2f (bitmask; see below)
<tr>        <td>0x00c1        <td>DSC Position Report call categories <td>0x2f (bitmask; see below)
<tr>        <td>0x00c2        <td>DSC Test call categories <td>0x2f (bitmask; see below)
<tr class=x><td>0x00c3        <td> <td>0x5c
<tr class=x><td>0x00c4        <td> <td>[values seen: 0x78, 0xf8]
<tr>        <td>0x00c5        <td>DSC beep settings <td>bitmask; see below
<tr class=x><td>0x00c6        <td> <td>[values seen: 0x03, 0x04]
<tr>        <td>0x00c7        <td>individual ring <td>0x00=5s, 0x01=10s, 0x02=15s, 0x03=20s, 0x04=120s
<tr>        <td>0x00c8        <td>no act timer <td>0x00=1min, 0x01=3min, 0x02=5min, 0x03=10min, 0x04=15min
<tr>        <td>0x00c9        <td>CH switch timer <td>0x00=off, 0x01=10s, 0x02=30s, 0x03=60s, 0x04=120s
<tr>        <td>0x00ca        <td>POS fix wait <td>0x00=15s, 0x01=30s, 0x02=60s, 0x03=90s, 0x04=120s
<tr class=x><td>0x00cb–0x00cf <td> <td>0xff01ff0000
<tr class=c><td>0x00d0–0x00df <td> <td>0xff…
<tr>        <td>0x00e0        <td>auto POS polling activation <td>0x00=stop, 0x01=start
<tr>        <td>0x00e1        <td>auto POS polling type <td>0x00=request, 0x01=report
<tr>        <td>0x00e2        <td>auto POS time <td>0x00=30s, 0x01=1min, 0x02=2min, 0x03=3min, 0x04=5min
<tr class=x><td>0x00e3–0x00e4 <td> <td>0x0200
<tr class=x><td>0x00e5–0x00e6 <td> <td>[values seen: 0x4630, 0x8cff]
<tr class=c><td>0x00e7–0x00ef <td> <td>0xff…
<tr class=x><td>0x00f0–0x00f1 <td> <td>0x0002
<tr>        <td>0x00f2        <td>GM interval <td>0x00=1min, 0x01=3min, 0x02=5min, 0x03=10min, 0x04=15min
<tr class=x><td>0x00f3        <td> <td>[values seen: 0x01, 0x03, 0xff]
<tr class=x><td>0x00f4        <td> <td>0x00
<tr class=x><td>0x00f5–0x00f6 <td> <td>[values seen: 0x4630, 0x8cff]
<tr class=c><td>0x00f7–0x00ff <td> <td>0xff…
</table>

<p><strong>DSC Call Categories</strong>
<pre>
0x80 = 1xxxxxxx = Distress
0x40 = x1xxxxxx = Urgency
0x20 = xx1xxxxx = Safety
0x10 = xxx1xxxx = Routine
0x0f = xxxx1111 - padding
</pre>

<p>Note: The DSC call categories (priorities) are prescribed by <a href=https://www.itu.int/rec/R-REC-M.493>Rec. ITU-R M.493</a>. The HX870 by default correctly implements the category options for class D radios, except that the HX870 additionally allows position request and polling calls.

<p><strong>DSC Beep Settings</strong>
<pre>
0x80 = 1xxxxxxx = Individual
0x40 = x1xxxxxx = All Ships
0x20 = xx1xxxxx = Group
0x10 = xxx1xxxx = Position Request
0x08 = xxxx1xxx = Position Report
0x04 = xxxxx1xx = Geographic
0x02 = xxxxxx1x = Polling
0x01 = xxxxxxx1 = Test Call

Default value:
0xec = 11101100 = always, except for POS requests, polling, and test calls
</pre>

<h3 id=regions>Region Selection</h3>
<table class=eeprom>
<tr><th>Address <th>Data <th>Format
<tr><td rowspan=2>0x010f <td>HX870E: selection of the region for channel group 3 <td>region code; see below
<tr class="rowspan c">   <td>HX870: region selection not supported <td>0xff
</table>

<p>HX870E radios are usually distributed with a <a href=region-selection.jpg type=image/jpeg>leaflet</a> in the packaging explaining how to set a region. The HX870 model (non-E) is apparently hard-coded to only support Canada as a region.

<p>The region can be selected by holding down <kbd>MENU</kbd> and <kbd class=red>16/S</kbd> while turning on the HX870E. The menu described in the <a href=region-selection.jpg type=image/jpeg>leaflet</a> will then appear. Selecting a region will primarily affect channel group 3 and the regional (RG) channels, resetting channel flags and names to whatever the factory settings are for the selected region. The following group 3 regional modes are available for the HX870E:

<table>
<tr><th>Code <th>Region <th>Region (menu name) <th>Channel Group 3 Name <th>Channels in Group 3 <th>Regional Channels
<tr><td>0x00 <td>Canada <td>INTERNATIONAL <td>CAN <td>Canadian <td>—
<tr><td>0x01 <td>British Isles <td>UNITED KINGDOM <td>UK <td>international <td>M, M2
<tr><td>0x02 <td>North Sea (Belgium) <td>BELGIUM <td>BE <td>international + 31 <td>—
<tr><td>0x03 <td>North Sea (The Netherlands) <td>NETHERLAND <td>NL <td>international + 31, 37 <td>—
<tr><td>0x04 <td>Northern Europe <td>SWEDEN <td>SW <td>international <td>L1, L2, L3, F1, F2, F3
<tr><td>0x05 <td>European inland waterways <td>GERMANY <td>GRMN <td>RAINWAT <td>—
</table>

<p>Some of the region names Standard Horizon use in the menu are confusing to say the least. For example, a vessel sailing the German Baltic coast would need an international channel plan. It might seem logical to select “INTERNATIONAL” or “GERMANY” as regional mode, but neither one of those would yield an international channel plan in group 3. Instead, you would want to either use the “INTL” channel group 2, which isn’t affected by the regional mode setting at all, or “SWEDEN” mode for channel group 3, which has the benefit of enabling the Danish leisure channels.

<p>Notably, “NETHERLAND” mode provides an international channel plan even though the extra channels are mostly useful in Dutch inland waterways, where <a href=http://www.rainwat.bipt.be>RAINWAT</a> applies. This looks like a firmware bug.

<h3 id=channel-group-def>Channel Group Definition</h3>
<table class=eeprom>
<tr>        <th>Offset  <th>Data <th>Format
<tr>        <td>0x0     <td>channel group enabled <td>0x00=no, 0x01=yes
<tr>        <td>0x1     <td>DSC enabled <td>0x00=no, 0x01=yes
<tr>        <td>0x2     <td>ATIS enabled <td>0x00=no, 0x01=yes (see note below)
<tr>        <td>0x3–0x6 <td>channel group name <td>0–4 chars, 0xff padded
<tr class=c><td>0x7     <td> <td>0xff
<tr>        <td>0x8–0xf <td>model string? <td>5–6 chars, 0xff padded
</table>

<p>YCE15 uses the “ATIS enabled” field of the fourth channel group definition (memory location 0x00a2) to decide whether or not to display the ATIS setup (0x00=no, 0x01=yes).

<h3 id=call-history-entry>Call History Entry</h3>
<table class=eeprom>
<tr>        <th>Offset  <th>Data <th>Format
<tr>        <td>0x0–0x4 <td>DSC address (MMSI) <td>10 nibbles BCD (last nibble zero)
<tr class=x><td>0x5     <td>call type / priority ? <td>
<tr>        <td>0x6–0x7 <td>channel used <br>(individual/group call only) <td><a href=#channel-index>Channel Index</a> (or 0xffff)
</table>

<p>The entries are listed in descending order of age (oldest first).

<p class=x>The presumed “call type” or “priority” field is usually 0x03 for individual/group calls and 0x02 for position request/report calls. Polling and test call histories appear to either share the same memory area; it’s not yet clear whether they are differentiated by the “call type”/“priority” field, or whether there are columns in this area (left column polling, right column test).

<p class=x>It is not known why the channel is recorded in the history in addition to the log.

<h3 id=channel-flags>Marine Channel Flags</h3>
<table class=eeprom>
<tr>        <th>Offset  <th>Data <th>Format
<tr>        <td>0x0     <td>channel ID <td>numeric
<tr>        <td>0x1-0x2 <td>flags <td>bitmask; see below
<tr class=c><td>0x3     <td>padding/reserved? <td>0xff
</table>
<pre>
0x8000 = 1xxxxxxx xxxxxxxx = frq shift Rx only
0x4000 = x1xxxxxx xxxxxxxx = frq shift Rx and Tx
0x2000 = xx1xxxxx xxxxxxxx = high power allowed
0x1000 = xxx1xxxx xxxxxxxx = Tx allowed
0x0800 = xxxx1xxx xxxxxxxx = high power allowed, but low power is default
0x0400 = xxxxx1xx xxxxxxxx - unused?
0x0200 = xxxxxx1x xxxxxxxx = channel suffix: "B"
0x0100 = xxxxxxx1 xxxxxxxx = channel suffix: "A"
0x0080 = xxxxxxxx 1xxxxxxx = DSC ship/ship channel
0x007f = xxxxxxxx x1111111 = channel prefix: 0x7f=none, other=numeric

Frequent combinations:
0x30ff = 00110000 11111111 = ship/ship channel
0x10ff = 00010000 11111111 = ship/ship channel, limited to 1W
0x18ff = 00011000 11111111 = ship/ship channel, defaults to 1W
0x307f = 00110000 01111111 = simplex channel
0x107f = 00010000 01111111 = simplex channel, limited to 1W
0x300a = 00110000 00001010 = simplex "10" channel
0x7014 = 01110000 00010100 = simplex "20" channel
0x317f = 00110001 01111111 = USA "A" channel
0x827f = 10000010 01111111 = CAN "B" channel
0xb07f = 10110000 01111111 = duplex channel
0x907f = 10010000 01111111 = duplex channel, limited to 1W
0x007f = 00000000 01111111 = Tx forbidden

Some other useful combinations:
0x807f = 10000000 01111111 = duplex channel, Tx forbidden
0x987f = 10011000 01111111 = duplex channel, defaults to 1W<!--  (30)-->
0x187f = 00011000 01111111 = simplex channel, defaults to 1W
0x197f = 00011001 01111111 = simplex "A" channel, defaults to 1W<!--  (37A)-->
0x5a7f = 01011010 01111111 = simplex "B" channel, defaults to 1W<!--  (96B)-->
0x180a = 00011000 00001010 = simplex "10" channel, defaults to 1W<!--  (VDES)-->
0x5814 = 01011000 00010100 = simplex "20" channel, defaults to 1W<!--  (VDES)-->
0x4014 = 01000000 00010100 = simplex "20" channel, Tx forbidden<!--  (2006, ASM)-->
</pre>

<!--
USA:
0x30ff = 00110000 11111111 : 06,08-10,69,72 .............. simplex
0x10ff = 00010000 11111111 : 17,77 ....................... simplex, max. 1W
0x18ff = 00011000 11111111 : 13,67 ....................... simplex, def. 1W
0x307f = 00110000 01111111 : 11,12,14,16,68,71,73,74,87A . simplex
0x107f = 00010000 01111111 : 75,76 ....................... simplex, max. 1W
0x317f = 00110001 01111111 : 01A,03A,05A,07A,18A-23A,61A,63A-66A,78A-83A,88A .. simplex
0xb07f = 10110000 01111111 : 20,24-28,84-86 .............. duplex, Rx frq shift
0x007f = 00000000 01111111 : 15,70 ....................... Tx forbidden

INTL:
0x30ff = 00110000 11111111 : 06,08-10,13,67,69,72,73,77 .. simplex
0x10ff = 00010000 11111111 : 15,17 ....................... simplex, max. 1W
0x307f = 00110000 01111111 : 11,12,14,16,68,71,74,87,88 .. simplex
0x107f = 00010000 01111111 : 75,76 ....................... simplex, max. 1W
0x300a = 00110000 00001010 : 1019,1020,1078,1079 ......... simplex
0x7014 = 01110000 00010100 : 2019,2020,2078,2079 ......... simplex, Rx+Tx frq shift
0xb07f = 10110000 01111111 : 01-05,07,18-28,60-66,78-86 .. duplex, Rx frq shift
0x007f = 00000000 01111111 : 70 .......................... Tx forbidden

GRMN:
0x30ff = 00110000 11111111 : 09,67,69,73 ................. simplex
0x10ff = 00010000 11111111 : 06,08,10,13,17,72,77 ........ simplex, max. 1W
0x307f = 00110000 01111111 : 16,68,87,88 ................. simplex
0x107f = 00010000 01111111 : 11,12,14,15,71,74,75,76 ..... simplex, max. 1W
0x300a = 00110000 00001010 : 1019,1020,1078,1079 ......... simplex
0x7014 = 01110000 00010100 : 2019,2020,2078,2079 ......... simplex, Rx+Tx frq shift
0xb07f = 10110000 01111111 : 01-05,07,18,19,21-28,60-66,78-86 .. duplex, Rx frq shift
0x907f = 10010000 01111111 : 20 .......................... duplex, Rx frq shift, max. 1W
0x007f = 00000000 01111111 : 70 .......................... Tx forbidden

CAN:
0x827f = 10000010 01111111 : "B" channels ................ Tx forbidden, Rx frq shift
-->

<p>Firmware 2.03 appears to have a bug in the “GRMN” (RAINWAT) channel group: Channel 20 doesn't have the “high power allowed” bit set although high power <em>is</em> allowed. This is easily fixable by modifying memory location 0x0955 in the memory image from 0x90 to 0xb0. (Furthermore, channels 17 and 69 are not intership channels according to RAINWAT rules, but arguably 87 is.)

<p>Firmware 2.03 also appears to set the “suffix A” bit for channel 88, but not for 87 for the USA channel group. Given that both channels were redefined at the same time for the introduction of AIS, it’s clear that either both or none should have the “A”. According to the manual, both should have the suffix, but according to <a href="https://www.navcen.uscg.gov/?pageName=mtvhf">the Coast Guard</a>, neither should have it.

<p>Firmware 2.03 appears to have an additional bug in the “INTL” channel group (possibly others as well): Channels 15 and 17 are no longer a guard band for channel 16 as per <a href=https://www.itu.int/pub/R-REG-RR/e>ITU RR</a> (App. 18) and <a href=https://www.itu.int/rec/R-REC-M.1084>Rec. M.1084</a>. Transmitting with full power is allowed on these channels unless they’re used for internal on-board communication. It would appear to make sense to at least code these as “low power default” if not “unrestricted power”.

<h3 id=channel-definition>Private Channel Definition</h3>
<table class=eeprom>
<tr>        <th>Offset  <th>Data <th>Format
<tr>        <td>0x0–0x1 <td>channel ID <td>2 * char (lower case not supported)
<tr>        <td>0x2–0x4 <td>Rx frequency <td>5 nibbles BCD (in kHz above 100 MHz)
<tr class=c><td>0x4     <td>padding? <td>lower nibble: 0x0
<tr>        <td>0x5–0x7 <td>Tx frequency <td>5 nibbles BCD (in kHz above 100 MHz) <br>0xfffff = Tx forbidden
<tr>        <td>0x7     <td>channel definition flags <td>lower nibble: bitmask; see below
</table>
<pre>
0x08 = xxxx1xxx = low power
0x04 = xxxxx1xx - ?
0x02 = xxxxxx1x - ?
0x01 = xxxxxxx1 = user power up?

Frequent combinations:
0x00 = xxxx0000 = standard
0x08 = xxxx1000 = limited to 1W
0x09 = xxxx1001 = defaults to 1W
0x06 = xxxx0110 = ?

Illegal combinations:
0x0a = xxxx1010
0x0b = xxxx1011
0x0c = xxxx1100
0x0d = xxxx1101
0x0e = xxxx1110
</pre>

<h3 id=gm-def>Group Monitor Definition</h3>
<table class=eeprom>
<tr>        <th>Offset    <th>Data <th>Format
<tr>        <td>0x00–0x04 <td>GMID <td>10 nibbles BCD (last nibble zero)
<tr>        <td>0x04–0x0f <td>GM name <td>
<tr>        <td>0x10–0x3f <td>member addresses <td>9 * 10 nibbles BCD (last nibble zero) <br>after every third address, a single 0xff byte is inserted
</table>

<hr>

<a href="https://creativecommons.org/publicdomain/zero/1.0/" id=copyright><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAAAPCAAAAABWohdTAAAA4ElEQVR42q2TCxGDMBBEV0IkICESIgEJSEACDioBCZUQCUiIhEi4bi4cTGg7nWk4IOQzeSx7OeD2EJEITHzlmNmMcJv8HRU4FF4OHMxEBgRJrkfhikE5JWaSHaJMPUCPVWTjbz84JHqm4K0HqJQFSEVWLOyhTKojUq7a0edYwHUS%2BxhMiZcCdAn87aVupwOGs461OLdLve27BzCIpmJCbIAfFF6Btm6dViGtuyjEL4Vo2Pvy4SHSs%2FEQttuM%2B%2BLhG9Cy7KPf2Z1Zvv0cslLGs1Ky764UPdTUmLSWfW8t3xwvrOGH3yP4B6kAAAAASUVORK5CYII%3D" alt="Public Domain"></a>

<a href="https://github.com/johannessen/hx870"><img id=github src="https://camo.githubusercontent.com/365986a132ccd6a44c23a9169022c0b5c890c387/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f7265645f6161303030302e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png"></a>
